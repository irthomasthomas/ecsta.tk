{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../App.svelte",
    "../Search.svelte",
    "../SearchResults.svelte",
    "../LoadingIndicator.svelte",
    "../PhotoCard.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from 'svelte';\n  import Search from './Search.svelte';\n  import SearchResults from './SearchResults.svelte';\n  import LoadingIndicator from './LoadingIndicator.svelte';\n\n  // top10 ecsta.tk/enqueue?tag=top10tags\n  let searchQuery = '';\n  let searchTerm = null;\n  let totalPages = null;\n  let searchResults = [];\n  let nextPage = 1;\n  let isLoading = false;\n\n  let observer;\n  let target;\n\n  const options = {\n    rootMargin: '0px 0px 300px',\n    threshold: 0,\n  };\n\n  const loadMoreResults = entries => {\n    entries.forEach(entry => {\n      // If new search or if ongoing search\n      if (nextPage === 1 || isLoading) return;\n\n      if (entry.isIntersecting) {\n        searchEcsta();\n      }\n    });\n  };\n\n  onMount(() => {\n    observer = new IntersectionObserver(loadMoreResults, options);\n    target = document.querySelector('.loading-indicator');\n    searchTerm = 'top10tags';\n    // searchQuery = 'carbcap'; // puts it in the search bar\n    searchEcsta();\n  });\n\n  function handleMessage(event) {\n    searchQuery = event.detail.text;\n    handleSubmit();\n\t}\n\n  function handleSubmit() {\n    searchTerm = searchQuery.trim();\n    searchResults = [];\n    totalPages = null;\n    nextPage = 1;\n\n    if (!searchTerm) return;\n\n    observer.observe(target);\n    searchEcsta();\n  }\n\n  function searchEcsta() {\n    isLoading = true;\n    const endpoint = `http://157.52.255.203:9090/enqueue?tag=${searchTerm}&page=${nextPage}`;\n    // const endpoint = `http://thomasthomas.tk:9090/enqueue?tag=${searchTerm}&page=${nextPage}`;\n    \n    fetch(endpoint)\n      .then(response => {\n        if (!response.ok) {\n          alert(response.statusText);\n          throw Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.total === 0) {\n          alert(\"No photos were found for your search query.\")\n          return;\n        }\n\n        searchResults = [...searchResults, ...data.results];\n        totalPages = data.total_pages;\n\n        if (nextPage < totalPages) {\n          nextPage += 1;\n        }\n      })\n      .catch(() => alert('${response.statusText} Oh An error occured!'))\n      .finally(() => {\n        isLoading = false;\n\n        if (nextPage >= Number(totalPages)) {\n          observer.unobserve(target);\n        }\n      });\n  }\n</script>\n<style>\n  .App {\n    width: 100%;\n    max-width: 1500px;\n    padding: 20px;\n    margin: 0 auto 50px;\n    text-align: center;\n  }\n\n  h1 {\n    font-size: 50px;\n    margin-top: 30px;\n    margin-bottom: 30px;\n  }\n</style>\n\n<main class=\"App\">\n  <!-- <h4>ecsta.tk about stuff</h4> -->\n  <Search bind:query={searchQuery} handleSubmit={handleSubmit} />\n  \n  <!-- <SearchResults on:message={handleMessage}/> -->\n  \n  <SearchResults results={searchResults} on:message={handleMessage}/>\n\n  <div class=\"loading-indicator\">\n    {#if isLoading}\n      <LoadingIndicator isLoading={isLoading} />\n    {/if}\n  </div>\n</main>\n",
    "<script>\n  export let query;\n  export let handleSubmit;\n</script>\n\n<style>\n  .search-input {\n    width: 100%;\n    max-width: 800px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    padding: 10px 20px;\n    font-size: 20px;\n    margin-bottom: 50px;\n  }\n</style>\n\n<div class=\"search\">\n  <form class=\"search-form\" on:submit|preventDefault={handleSubmit}>\n    <input bind:value={query} class=\"search-input\" type=\"search\"\n    placeholder=\"Find artsy stuff for sale on insta\" />\n  </form>\n</div>\n",
    "<script>\n\timport PhotoCard from './PhotoCard.svelte';\n\n  export let results;\n\n\n</script>\n\n<style>\n  .search-results {\n    list-style: none;\n    display: grid;\n    gap: 40px 20px;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  }\n</style>\n<!-- <PhotoCard on:message/> -->\n\n<ul class=\"search-results\">\n  {#each results as result (result.id)}\n    <PhotoCard photo={result} on:message/>\n  {/each}\n</ul>\n\n",
    "<style>\n  .spinner {\n    margin: 50px auto;\n    width: 50px;\n    height: 40px;\n    text-align: center;\n    font-size: 10px;\n  }\n\n  .spinner > div {\n    background-color: #333;\n    height: 100%;\n    width: 6px;\n    display: inline-block;\n\n    -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n    animation: sk-stretchdelay 1.2s infinite ease-in-out;\n  }\n\n  .spinner .rect2 {\n    -webkit-animation-delay: -1.1s;\n    animation-delay: -1.1s;\n  }\n\n  .spinner .rect3 {\n    -webkit-animation-delay: -1.0s;\n    animation-delay: -1.0s;\n  }\n\n  .spinner .rect4 {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n  }\n\n  .spinner .rect5 {\n    -webkit-animation-delay: -0.8s;\n    animation-delay: -0.8s;\n  }\n\n  @-webkit-keyframes sk-stretchdelay {\n    0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n    20% { -webkit-transform: scaleY(1.0) }\n  }\n\n  @keyframes sk-stretchdelay {\n    0%, 40%, 100% {\n      transform: scaleY(0.4);\n      -webkit-transform: scaleY(0.4);\n    }  20% {\n      transform: scaleY(1.0);\n      -webkit-transform: scaleY(1.0);\n    }\n  }\n</style>\n\n<div class=\"spinner\">\n  <div class=\"rect1\"></div>\n  <div class=\"rect2\"></div>\n  <div class=\"rect3\"></div>\n  <div class=\"rect4\"></div>\n  <div class=\"rect5\"></div>\n</div>\n",
    "<script>\n  export let photo;\n\n  import { createEventDispatcher } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\tfunction sayHello() {\n\t\tdispatch('message', {\n\t\t\ttext: photo.rootTag\n\t\t});\n  }\n  \n  function openRelated() {\n    dispatch('message', {\n      text: photo.related\n    });\n  }\n</script>\n\n<style>\n  .photo-card {\n    animation: show 0.5s forwards ease-in-out;\n  }\n\n  .photo {\n    width: 100%;\n    object-fit: cover;\n    height: 300px;\n    background-color: #ccc;\n    margin-bottom: 10px;\n    box-shadow:4px 4px 5px #771313;\n  }\n\n  .photographer {\n    display: inline-block;\n  }\n\n  .photographer a {\n    color: #333;\n    text-decoration: none;\n  }\n\n  .photographer a:hover {\n    text-decoration: underline;\n  }\n\n  @keyframes show {\n    0% {\n      opacity: 0;\n      transform: translateY(100px);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  .ribbon {\n    position: absolute;\n    right: -5px; top: -5px;\n    z-index: 1;\n    overflow: hidden;\n    width: 75px; height: 75px;\n    text-align: right;\n  }\n  .ribbon span {\n    font-size: 10px;\n    font-weight: bold;\n    color: #FFF;\n    text-transform: uppercase;\n    text-align: center;\n    line-height: 20px;\n    transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n    width: 100px;\n    display: block;\n    background: #79A70A;\n    background: linear-gradient(#2989d8 0%, #1e5799 100%);\n    box-shadow: 0 3px 10px -5px rgba(0, 0, 0, 1);\n    position: absolute;\n    top: 19px; right: -21px;\n  }\n  .ribbon span::before {\n    content: \"\";\n    position: absolute; left: 0px; top: 100%;\n    z-index: -1;\n    border-left: 3px solid #1e5799;\n    border-right: 3px solid transparent;\n    border-bottom: 3px solid transparent;\n    border-top: 3px solid #1e5799;\n  }\n  .ribbon span::after {\n    content: \"\";\n    position: absolute; right: 0px; top: 100%;\n    z-index: -1;\n    border-left: 3px solid transparent;\n    border-right: 3px solid #1e5799;\n    border-bottom: 3px solid transparent;\n    border-top: 3px solid #1e5799;\n  }\n</style>\n\n{#if photo.rootTag}\n  <li class=\"photo-card\">\n      <img class=\"photo\" src={photo.imgUrl} crossorigin=\"anonymous\" alt={photo.rootTag || \"\"} on:click={sayHello}>\n      <div class=\"ribbon\"><span>{photo.rootTag}</span></div>\n  </li>\n<!-- None of these related are showing on front -->\n{:else if photo.related != \"False\"}\n<li class=\"photo-card\">\n      <img class=\"photo\" src={photo.imgUrl} crossorigin=\"anonymous\" alt={photo.related || \"\"} on:click={openRelated}>\n      <div class=\"ribbon\"><span>#{photo.related}2</span></div>\n</li>\n{:else}\n  <li class=\"photo-card\">\n  <a href={photo.link} crossorigin=\"anonymous\" rel=\"noopener noreferrer\" target=\"_blank\">\n    <img class=\"photo\" src={photo.imgUrl} alt={photo.link || \"\"}>\n  </a>\n  </li>\n{/if}"
  ],
  "names": [],
  "mappings": "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"
}